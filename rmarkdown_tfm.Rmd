---
title: "TFM UOC"
output: html_document
date: '2022-03-25'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Logistic regression with glm

Data & param:
```{r}
# Imports:
library(caret)
source("./codes/cohen_kappa_fun.R")
# Data:
require(ISLR)
attach(Smarket) # attach allows you to look up in R variables within a dataframe
```

```{r}
# Predictor:
X <- Smarket[-ncol(Smarket)]
# Predict:
Y <- Smarket[ncol(Smarket)]
Y <- unlist(Y)
```


```{r}
source("./codes/logistic_regression_fun.R")
```


```{r}
system.time(
MinSizeLogReg <- minimum_sample_logistic(X,Y,p_vec=1:99/100,thr_acc=0.95)
)
MinSizeLogReg
```

```{r}

```


## Logistic regression with train.

```{r}
# Imports:
library(caret)
source("./codes/cohen_kappa_fun.R")
# Data:
require(ISLR)
attach(Smarket) # attach allows you to look up in R variables within a dataframe
```


```{r}
# Predictor:
X <- Smarket[-ncol(Smarket)]
# Predict:
Y <- Smarket[ncol(Smarket)]
Y <- unlist(Y)
```


```{r}
source("./codes/logistic_regression_fun_v2.R")
```


```{r}
system.time(
minimum_sample_logistic_v2(X,Y,p_vec = 1:99/100, thr_acc = 0.95)
)
```


## Logistic regression with train, and parallelization.

```{r}
# Imports:
library(caret)
library(foreach)
source("./codes/cohen_kappa_fun.R")
# Data:
require(ISLR)
attach(Smarket) # attach allows you to look up in R variables within a dataframe
```


```{r}
# Predictor:
X <- Smarket[-ncol(Smarket)]
# Predict:
Y <- Smarket[ncol(Smarket)]
Y <- unlist(Y)
```


```{r}
source("./codes/logistic_regression_fun_v2_parallel.R")
```


```{r}
system.time(
minimum_sample_logistic_v2_parallel(X,Y,p_vec = 1:99/100, thr_acc = 0.95, n.cores = 8)
)
```

## Random Forest, sequential.

```{r}
# Imports:
library(caret)
source("./codes/cohen_kappa_fun.R")
# Data:
require(ISLR)
attach(Smarket) # attach allows you to look up in R variables within a dataframe
```


```{r}
# Predictor:
X <- Smarket[-ncol(Smarket)]
# Predict:
Y <- Smarket[ncol(Smarket)]
Y <- unlist(Y)
```


```{r}
source("./codes/rf_fun.R")
```


```{r}
system.time(
minimum_sample_rf(X = X, Y = Y,
                  p_vec = 1:99/100,
                  thr_acc = 0.95)
)
```



## Random forest, paralelization


```{r}
# Imports:
library(caret)
library(foreach)
source("./codes/cohen_kappa_fun.R")
# Data:
require(ISLR)
attach(Smarket) # attach allows you to look up in R variables within a dataframe
```


```{r}
# Predictor:
X <- Smarket[-ncol(Smarket)]
# Predict:
Y <- Smarket[ncol(Smarket)]
Y <- unlist(Y)
```


```{r}
source("./codes/rf_fun_parallel.R")
```


```{r}
system.time(
minimum_sample_rf_parallel(X = X, Y = Y,
                  p_vec = 1:99/100,
                  thr_acc = 0.95,
                  n.cores = 8)
)
```




## Naive Bayes, paralelization


```{r}
# Imports:
library(caret)
library(foreach)
source("./codes/cohen_kappa_fun.R")
# Data:
require(ISLR)
attach(Smarket) # attach allows you to look up in R variables within a dataframe
```


```{r}
# Predictor:
X <- Smarket[-ncol(Smarket)]
# Predict:
Y <- Smarket[ncol(Smarket)]
Y <- unlist(Y)
```


```{r}
source("./codes/nb_fun_parallel.R")
```


```{r}
system.time(
minimum_sample_naivebayes(X = X, Y = Y,
                  p_vec = 1:99/100,
                  thr_acc = 0.95,
                  n.cores = 8)
)
```













































